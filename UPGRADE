Zoph 0.7 to 0.8
    * You can also use these instructions to go from 0.7.0.x to 0.8
    * For an update from 0.7.1, 0.7.2, 0.7.2.1, 0.7.3 or 0.7.4 see 0.7.x to 0.8
    * For an update from 0.7.5 or 0.8pre1 - 3, see Zoph 0.7.5 or 0.8 pre-release to 0.8

Copy php/* to the location of your installation. Make sure that you also copy the js and img subdirectories. If you use the translations in Zoph, make sure to also copy the lang directory.

Copy bin/zophImport.pl into the directory where you installed it, if you followed the installation instructions it is probably /usr/local/bin, otherwise, find out with which zophImport.pl.

Updating the Database

If you are upgrading from an older version than 0.7, please run the older database updates first.

Execute zoph-update-0.8.sql:

> mysql -u zoph_admin -p zoph < sql/zoph_update-0.8.sql

The database upgrade script makes the following changes:

    * Add the 'sortname' column to the albums and categories tables (0.7.1)
    * Add preferences field to let users define the sort order (0.7.1)
    * Add a column to the users table that defines whether or not this user is allowed to download photos. (0.7.1)
    * Create tables zoph_pages, zoph_pageset and zoph_pages_pageset (0.72)
    * Add a 'pageset' field to zoph_albums, zoph_categories, zoph_places and zoph_people columns (0.7.2).
    * Add columns to the places and photos table to store the geographic location of that photo or place (0.7.3)
    * Add column to the places table to store timezone information (0.7.3)
    * Add column to the photos table to store time correction information (0.7.3)
    * Change the description column in the photos table from BLOB to TEXT, to improve search-capabilities (0.7.3)
    * Change the title field for albums and categories from 32 to 64 characters (0.7.3)
    * Add new tables for usergroups (0.7.4)
    * Modify the zoph_ratings table to allow multiple votes by the same user, store IP address and date/time (0.7.5)
    * Add an index on users to the zoph_ratings table (0.7.5)
    * Modify the zoph_users table to control whether a user is allowed to use the voting system and whether a user is allowed to vote multiple times on the same photo (0.7.5)
    * Create a table to store saved searches (0.7.5)

Configuration updates

(see http://en.wikibooks.org/wiki/Zoph/Configuration for details):

New options

    * MAPS (0.7.3)
    * GOOGLE_KEY (0.7.3)
    * CAMERA_TZ (0.7.3)
    * DATE_FORMAT (0.7.3)
    * TIME_FORMAT (0.7.3)
    * GUESS_TZ (0.7.3)
    * ICONSET (0.7.2)
    * DEFAULT_LANG (0.7.2)
    * WM_POSX (0.7.1)
    * WM_POSY (0.7.1)
    * WM_TRANS (0.7.1)
    * IMPORT_MOVE (0.7.1)
    * DOWNLOAD (0.7.1)

Group access rights

As of Zoph 0.7.4, you have to make your users members of a group and then assign viewing rights for albums to the group, instead of to the users directly. After the update to 0.7.4, you will have no groups and therefore your users will not be allowed to see any groups, you should create one or more groups, make your user member of one or more of them and assign viewing rights to the groups. If you'd rather stay with your current per-user viewing rights, you can use the user_to_group.php script in the contrib directory: this will create a new group for each user and assign the currently defined access rights for each user the newly created groups. To use this script:

   1. Make a backup of your current Zoph database;
   2. Copy the users_to_group.php script into your Zoph php directory;
   3. Log in to Zoph with an admin user;
   4. Did I mention making a backup?
   5. Change the part after the last / in your browser into user_to_group.php;

After this, you can remove the zoph_album_permissions table in Zoph, as it is no longer used.

Zoph 0.7.x to 0.8 update

If you are upgrading from a feature release to another feature release, you need to edit zoph-update-0.8.sql. You should comment out the changes that have already been applied to your system. For example, if you are upgrading from 0.7.1 to 0.7.4, you will need to prepend the changes for 0.7.1 with a #, since you have already applied those changes when you updated to 0.7.1. After that, you can follow the instructions for 0.7 to 0.8

Zoph 0.7.5 or 0.8 pre-release to 0.8

If you are upgrading from 0.7.5 or or a 0.8 pre-release to 0.8, you don't need to run any database scripts, there are no database changes in this upgrade.

Follow the instructions for 0.7 to 0.8, but skip the database upgrades.

Zoph 0.7 to Zoph 0.7.0.x

Copy php/* to the location of your installation. Make sure to also copy the php/lang subdirectory.

You can upgrade directly from 0.6 to 0.7.0.x, simply use the zoph-0.7.0.x.tar.gz and execute the instructions for the 0.6 to 0.7 upgrade.

Older versions

For upgrades from an older version of Zoph: http://en.wikibooks.org/wiki/Zoph/Upgrading/Archive